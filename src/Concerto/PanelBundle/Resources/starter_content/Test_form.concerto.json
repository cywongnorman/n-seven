{
    "version": "5.0.beta.7.1",
    "collection": [
        {
            "class_name": "Test",
            "id": 10,
            "name": "source_form",
            "accessibility": 2,
            "archived": "0",
            "visibility": 2,
            "type": 0,
            "code": "if(is.null(template_def) || is.na(template_def) || template_def == \"\") {\n  decoded_template_def = fromJSON(concerto.var.get(\"template_def\"))\n} else {\n  decoded_template_def = fromJSON(template_def)\n}\n\nisValid = function(type, value, condition, form, response) {\n  valid = T\n  if(!is.null(response)) {\n    env_vld = new.env()\n    if(length(form) > 0) {\n      for(i in 1:length(form)) {\n        v = response[[form[[i]]$name]]\n        assign(form[[i]]$name, v, envir=env_vld)\n      }\n    }\n\n    res = try(eval(parse(text=condition), envir=env_vld), T)\n    if(!is.null(res) && res == T) {\n      valid = T\n    }\n    if(!is.null(res) && res == F) {\n      valid = F\n    }\n  }\n  return(valid)\n}\n\ngetContent = function(paragraph, form, response) {\n  content = paragraph\n  if(length(form) > 0) {\n    for(i in 1:length(form)) {\n      type = form[[i]]$definition$type\n      value = response[[form[[i]]$name]]\n      if(is.null(value)) {\n        value = form[[i]]$default\n      }\n      if(is.null(value)) {\n        value = \"\"\n      }\n      condition = form[[i]]$validation\n      valid = isValid(type, value, condition, form, response)\n      id = paste0(\"form\",i)\n      name = form[[i]]$name\n      label = form[[i]]$label\n      control = \"\"\n\n      if(type == \"custom\") {\n        control = concerto.template.join(templateId=form[[i]]$definition$custom_template,params=list(id=id,name=name,value=value)) \n      } else if(type == \"singleline\") {\n        control = concerto.template.join(templateId=form_field_input_template,params=list(id=id,name=name,type=\"text\",value=value))\n      } else if(type == \"password\") {\n        control = concerto.template.join(templateId=form_field_input_template,params=list(id=id,name=name,type=\"password\",value=value))\n      } else if(type == \"date\") {\n        control = concerto.template.join(templateId=form_field_input_template,params=list(id=id,name=name,type=\"date\",value=value))\n      } else if(type == \"multiline\") {\n        control = concerto.template.join(templateId=form_field_multiline_template,params=list(id=id,name=name,value=value))\n      } else if(type == \"file\") {\n        control = concerto.template.join(templateId=form_field_file_template,params=list(id=id,name=name))\n      } else if(type == \"select\") {\n        control = concerto.template.join(templateId=form_field_select_template,params=list(id=id,name=name,options=toJSON(form[[i]]$definition$select_options),value=value))\n      } else if(type == \"checkbox\") {\n        checked = \"\"\n        if(value==\"1\") {\n          checked = \"checked\"\n        }\n        control = concerto.template.join(templateId=form_field_checkbox_template,params=list(id=id,name=name,attrs=checked))\n      } else if(type == \"slider\") {\n        if(value == \"\") {\n          value = \"null\";\n        }\n        control = concerto.template.join(templateId=form_field_slider_template,params=list(id=id,name=name,value=value,definition=toJSON(form[[i]]$definition)))\n      }\n        classes = \"\"\n        if(!is.null(response) && !valid) {\n          classes = \"validationHighlight\"\n        }\n        field = concerto.template.join(templateId=form_field_template,params=list(id=id,label=label,classes=classes,control=control))\n        content = paste0(content, field)\n        }\n        }\n        return(content)\n        }\n\n        getAlert = function(form, response) {\n          alert = NULL\n          if(response$buttonPressed != \"submit\") {\n            return(alert)\n          }\n\n          if(length(form) > 0) {\n            for(i in 1:length(form)) {\n              type = form[[i]]$definition$type\n              value = response[[form[[i]]$name]]\n              condition = form[[i]]$validation\n              valid = isValid(type, value, condition, form, response)\n\n              validationHighlight = \"\"\n              if(!is.null(response) && !valid) {\n                alert = paste0(alert,concerto.template.join(templateId=form_alert_template,params=list(alert=form[[i]]$alert)))\n              }\n            }\n          }\n          return(alert)\n        }\n\n        getTemplateParams = function(template_params){\n          params = list()\n          if(!is.null(inserts) && is.list(inserts)) {\n            params = inserts\n          }\n          for(key in ls(template_params)) {\n            params[[key]] = template_params[[key]]\n          }\n          return(params)\n        }\n\n        cb1 = fromJSON(custom_button_1)\n        buttons = concerto.template.join(templateId=buttons_template,params=list(\n          label=button_label,\n          cb1_enabled=cb1$enabled,\n          cb1_label=cb1$label\n        ))\n\n        content = paragraph\n        form = fromJSON(form)\n\n        if(!is.null(warning_msg) && (is.na(warning_msg) || warning_msg == \"\")) {\n          warning_msg = \"\"\n        }\n\n        response = NULL\n        while(T) {\n          content = getContent(paragraph, form, response)\n          response = concerto.template.show(decoded_template_def$layout, params=getTemplateParams(list(\n            header=decoded_template_def$header, \n            title=title,\n            content=content, \n            warning_msg=warning_msg, \n            buttons=buttons,\n            footer=decoded_template_def$footer\n          )))\n          warning_msg = getAlert(form, response)\n          if(is.null(warning_msg) || warning_msg == \"\") { break }\n        }\n\n        if(response$buttonPressed == \"submit\") {\n          .branch = \"submit\"\n        } else if(response$buttonPressed == \"custom_button_1\") {\n          .branch = \"custom_button_1\"\n        }",
            "outdated": "0",
            "description": "",
            "variables": [
                {
                    "class_name": "TestVariable",
                    "id": 142,
                    "name": "submit",
                    "type": 2,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "0",
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 143,
                    "name": "form",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 144,
                    "name": "button_label",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 145,
                    "name": "paragraph",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 146,
                    "name": "response",
                    "type": 1,
                    "description": "<p><span style=\"line-height: 20.8px;\">Submitted user response R list object<\/span><\/p>",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 147,
                    "name": "inserts",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 148,
                    "name": "warning_msg",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 149,
                    "name": "title",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 150,
                    "name": "template_def",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 151,
                    "name": "form_field_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 152,
                    "name": "form_field_input_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 153,
                    "name": "form_field_multiline_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 154,
                    "name": "form_field_select_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 155,
                    "name": "form_field_checkbox_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 156,
                    "name": "form_field_slider_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 157,
                    "name": "form_alert_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 158,
                    "name": "buttons_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 159,
                    "name": "form_field_file_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 160,
                    "name": "custom_button_1",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 161,
                    "name": "custom_button_1",
                    "type": 2,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 162,
                    "name": ".branch",
                    "type": 1,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 10,
                    "parentVariable": null
                }
            ],
            "sourceWizard": null,
            "sourceWizardName": null,
            "sourceWizardTest": null,
            "sourceWizardTestName": null,
            "updatedOn": "2018-07-04 15:38:52",
            "updatedBy": "",
            "nodes": [],
            "nodesConnections": [],
            "tags": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "1b8ddf8bfc517984bb9923275f93d4b48500bc38"
        },
        {
            "class_name": "TestWizard",
            "id": 5,
            "name": "form",
            "description": "",
            "accessibility": 2,
            "archived": "0",
            "steps": [
                {
                    "class_name": "TestWizardStep",
                    "id": 14,
                    "title": "Presentation",
                    "description": "<p>Visual presentation of form page<\/p>\n",
                    "orderNum": 0,
                    "colsNum": 0,
                    "wizard": 5,
                    "params": [
                        {
                            "class_name": "TestWizardParam",
                            "id": 46,
                            "label": "Submit button label",
                            "description": "<p>Submit button label<\/p>\n",
                            "hideCondition": "",
                            "type": 0,
                            "passableThroughUrl": "0",
                            "value": "Submit",
                            "testVariable": 144,
                            "name": "button_label",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 4,
                            "wizard": 5,
                            "definition": {
                                "placeholder": "0",
                                "defvalue": "Submit"
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 47,
                            "label": "Paragraph",
                            "description": "<p>Form page paragraph<\/p>\n",
                            "hideCondition": "",
                            "type": 2,
                            "passableThroughUrl": "0",
                            "value": "",
                            "testVariable": 145,
                            "name": "paragraph",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 2,
                            "wizard": 5,
                            "definition": {
                                "placeholder": "0"
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 48,
                            "label": "Title",
                            "description": "",
                            "hideCondition": "",
                            "type": 0,
                            "passableThroughUrl": "0",
                            "value": "Page Title e.g. Demographics",
                            "testVariable": 149,
                            "name": "title",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 1,
                            "wizard": 5,
                            "definition": {
                                "placeholder": 0
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 49,
                            "label": "Form field template",
                            "description": "",
                            "hideCondition": "",
                            "type": 5,
                            "passableThroughUrl": "0",
                            "value": "form_field",
                            "testVariable": 151,
                            "name": "form_field_template",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 0,
                            "wizard": 5,
                            "definition": {
                                "placeholder": 0,
                                "defvalue": "form_field"
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 50,
                            "label": "Form alert template",
                            "description": "",
                            "hideCondition": "",
                            "type": 5,
                            "passableThroughUrl": "0",
                            "value": "form_alert",
                            "testVariable": 157,
                            "name": "form_alert_template",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 0,
                            "wizard": 5,
                            "definition": {
                                "placeholder": 0,
                                "defvalue": "form_alert"
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 51,
                            "label": "Form field checkbox template",
                            "description": "",
                            "hideCondition": "",
                            "type": 5,
                            "passableThroughUrl": "0",
                            "value": "form_field_checkbox",
                            "testVariable": 155,
                            "name": "form_field_checkbox_template",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 0,
                            "wizard": 5,
                            "definition": {
                                "placeholder": 0,
                                "defvalue": "form_field_checkbox"
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 52,
                            "label": "Form field file tmplate",
                            "description": "",
                            "hideCondition": "",
                            "type": 5,
                            "passableThroughUrl": "0",
                            "value": "form_field_file",
                            "testVariable": 159,
                            "name": "form_field_file_template",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 0,
                            "wizard": 5,
                            "definition": {
                                "placeholder": 0,
                                "defvalue": "form_field_file"
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 53,
                            "label": "Form field input template",
                            "description": "",
                            "hideCondition": "",
                            "type": 5,
                            "passableThroughUrl": "0",
                            "value": "form_field_input",
                            "testVariable": 152,
                            "name": "form_field_input_template",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 0,
                            "wizard": 5,
                            "definition": {
                                "placeholder": 0,
                                "defvalue": "form_field_input"
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 54,
                            "label": "Form field multiline template",
                            "description": "",
                            "hideCondition": "",
                            "type": 5,
                            "passableThroughUrl": "0",
                            "value": "form_field_multiline",
                            "testVariable": 153,
                            "name": "form_field_multiline_template",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 0,
                            "wizard": 5,
                            "definition": {
                                "placeholder": 0,
                                "defvalue": "form_field_multiline"
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 55,
                            "label": "Form field select template",
                            "description": "",
                            "hideCondition": "",
                            "type": 5,
                            "passableThroughUrl": "0",
                            "value": "form_field_select",
                            "testVariable": 154,
                            "name": "form_field_select_template",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 0,
                            "wizard": 5,
                            "definition": {
                                "placeholder": 0,
                                "defvalue": "form_field_select"
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 56,
                            "label": "Form field slider template",
                            "description": "",
                            "hideCondition": "",
                            "type": 5,
                            "passableThroughUrl": "0",
                            "value": "form_field_slider",
                            "testVariable": 156,
                            "name": "form_field_slider_template",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 0,
                            "wizard": 5,
                            "definition": {
                                "placeholder": 0,
                                "defvalue": "form_field_slider"
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 57,
                            "label": "Custom button #1",
                            "description": "",
                            "hideCondition": "",
                            "type": 9,
                            "passableThroughUrl": "0",
                            "value": "{\"enabled\":\"0\",\"label\":null}",
                            "testVariable": 160,
                            "name": "custom_button_1",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 5,
                            "wizard": 5,
                            "definition": {
                                "fields": [
                                    {
                                        "type": 4,
                                        "name": "enabled",
                                        "label": "Enabled",
                                        "definition": {
                                            "placeholder": 0
                                        }
                                    },
                                    {
                                        "type": 0,
                                        "name": "label",
                                        "label": "Label",
                                        "definition": {
                                            "placeholder": 0
                                        },
                                        "hideCondition": "parent.enabled == \"0\""
                                    }
                                ]
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 58,
                            "label": "Buttons template",
                            "description": "",
                            "hideCondition": "",
                            "type": 5,
                            "passableThroughUrl": "0",
                            "value": "buttons_multiple",
                            "testVariable": 158,
                            "name": "buttons_template",
                            "wizardStep": 14,
                            "stepTitle": "Presentation",
                            "order": 3,
                            "wizard": 5,
                            "definition": {
                                "placeholder": 0,
                                "defvalue": "buttons_multiple"
                            }
                        }
                    ]
                },
                {
                    "class_name": "TestWizardStep",
                    "id": 15,
                    "title": "Forms",
                    "description": "<p>Forms declaration<\/p>\n",
                    "orderNum": 1,
                    "colsNum": 0,
                    "wizard": 5,
                    "params": [
                        {
                            "class_name": "TestWizardParam",
                            "id": 59,
                            "label": "Form fields",
                            "description": "<p>Form fields list<\/p>\n",
                            "hideCondition": "",
                            "type": 10,
                            "passableThroughUrl": "0",
                            "value": "[]",
                            "testVariable": 143,
                            "name": "form",
                            "wizardStep": 15,
                            "stepTitle": "Forms",
                            "order": 0,
                            "wizard": 5,
                            "definition": {
                                "placeholder": "0",
                                "element": {
                                    "type": 9,
                                    "definition": {
                                        "placeholder": "0",
                                        "fields": [
                                            {
                                                "type": "0",
                                                "name": "name",
                                                "label": "Name",
                                                "definition": {
                                                    "placeholder": "0"
                                                }
                                            },
                                            {
                                                "type": "0",
                                                "name": "label",
                                                "label": "Label",
                                                "definition": {
                                                    "placeholder": "0"
                                                }
                                            },
                                            {
                                                "type": 0,
                                                "name": "validation",
                                                "label": "Validation",
                                                "definition": {
                                                    "placeholder": "0"
                                                }
                                            },
                                            {
                                                "type": "0",
                                                "name": "alert",
                                                "label": "Validation alert",
                                                "hideCondition": "parent.validation == \"\"",
                                                "definition": {
                                                    "placeholder": "0"
                                                }
                                            },
                                            {
                                                "type": 0,
                                                "name": "default",
                                                "label": "Default value",
                                                "definition": {
                                                    "placeholder": 0
                                                }
                                            },
                                            {
                                                "type": 9,
                                                "name": "definition",
                                                "label": "Definition",
                                                "definition": {
                                                    "placeholder": 0,
                                                    "fields": [
                                                        {
                                                            "type": 10,
                                                            "name": "select_options",
                                                            "label": "Options",
                                                            "definition": {
                                                                "placeholder": 0,
                                                                "element": {
                                                                    "type": 9,
                                                                    "definition": {
                                                                        "placeholder": 0,
                                                                        "fields": [
                                                                            {
                                                                                "type": 0,
                                                                                "name": "value",
                                                                                "label": "Value",
                                                                                "definition": {
                                                                                    "placeholder": 0
                                                                                }
                                                                            },
                                                                            {
                                                                                "type": 0,
                                                                                "name": "label",
                                                                                "label": "Label",
                                                                                "definition": {
                                                                                    "placeholder": 0
                                                                                }
                                                                            }
                                                                        ]
                                                                    }
                                                                }
                                                            },
                                                            "hideCondition": "parent.type != \"select\"",
                                                            "order": 1
                                                        },
                                                        {
                                                            "type": 0,
                                                            "name": "min",
                                                            "label": "Min value",
                                                            "definition": {
                                                                "placeholder": 0
                                                            },
                                                            "hideCondition": "parent.type != \"slider\"",
                                                            "order": 2
                                                        },
                                                        {
                                                            "type": 0,
                                                            "name": "max",
                                                            "label": "Max value",
                                                            "definition": {
                                                                "placeholder": 0
                                                            },
                                                            "hideCondition": "parent.type != \"slider\"",
                                                            "order": 3
                                                        },
                                                        {
                                                            "type": 0,
                                                            "name": "step",
                                                            "label": "Step",
                                                            "definition": {
                                                                "placeholder": 0
                                                            },
                                                            "hideCondition": "parent.type != \"slider\"",
                                                            "order": 4
                                                        },
                                                        {
                                                            "type": 0,
                                                            "name": "label_extreme_left",
                                                            "label": "Left extreme label",
                                                            "definition": {
                                                                "placeholder": 0
                                                            },
                                                            "hideCondition": "parent.type != \"slider\"",
                                                            "order": 5
                                                        },
                                                        {
                                                            "type": 0,
                                                            "name": "label_extreme_right",
                                                            "label": "Right extreme label",
                                                            "definition": {
                                                                "placeholder": 0
                                                            },
                                                            "hideCondition": "parent.type != \"slider\"",
                                                            "order": 6
                                                        },
                                                        {
                                                            "type": 3,
                                                            "name": "type",
                                                            "label": "Type",
                                                            "definition": {
                                                                "placeholder": 0,
                                                                "options": [
                                                                    {
                                                                        "value": "singleline",
                                                                        "label": "Single line",
                                                                        "order": 6
                                                                    },
                                                                    {
                                                                        "value": "multiline",
                                                                        "label": "Multi line",
                                                                        "order": 3
                                                                    },
                                                                    {
                                                                        "value": "select",
                                                                        "label": "Drop-down list",
                                                                        "order": 5
                                                                    },
                                                                    {
                                                                        "value": "checkbox",
                                                                        "label": "Checkbox",
                                                                        "order": 0
                                                                    },
                                                                    {
                                                                        "value": "password",
                                                                        "label": "Password",
                                                                        "order": 4
                                                                    },
                                                                    {
                                                                        "value": "slider",
                                                                        "label": "Slider",
                                                                        "order": 7
                                                                    },
                                                                    {
                                                                        "value": "file",
                                                                        "label": "File",
                                                                        "order": 2
                                                                    },
                                                                    {
                                                                        "value": "date",
                                                                        "label": "Date",
                                                                        "order": 1
                                                                    },
                                                                    {
                                                                        "value": "custom",
                                                                        "label": "Custom",
                                                                        "order": 8
                                                                    }
                                                                ],
                                                                "defvalue": "singleline"
                                                            },
                                                            "order": 0
                                                        },
                                                        {
                                                            "type": 4,
                                                            "name": "hide_number",
                                                            "label": "Hide Slider Number?",
                                                            "definition": {
                                                                "placeholder": 0
                                                            },
                                                            "order": 7,
                                                            "hideCondition": "parent.type != \"slider\""
                                                        },
                                                        {
                                                            "type": 0,
                                                            "name": "prefix_text",
                                                            "label": "Prefix text for number, e.g. \"$\" (optional)",
                                                            "definition": {
                                                                "placeholder": 0
                                                            },
                                                            "hideCondition": "parent.type != \"slider\" || parent.hide_number == \"1\"",
                                                            "order": 8
                                                        },
                                                        {
                                                            "type": 0,
                                                            "name": "suffix_text",
                                                            "label": "Suffix text for number, e.g. \" USD\" - note the extra space (optional)",
                                                            "definition": {
                                                                "placeholder": 0
                                                            },
                                                            "hideCondition": "parent.type != \"slider\" || parent.hide_number == \"1\"",
                                                            "order": 9
                                                        },
                                                        {
                                                            "type": 5,
                                                            "name": "custom_template",
                                                            "label": "Custom field template",
                                                            "definition": {
                                                                "placeholder": 0
                                                            },
                                                            "hideCondition": "parent.type != \"custom\"",
                                                            "order": 10
                                                        }
                                                    ]
                                                },
                                                "hideCondition": ""
                                            }
                                        ]
                                    }
                                }
                            }
                        }
                    ]
                }
            ],
            "test": 10,
            "testName": "source_form",
            "updatedOn": "2018-07-04 15:38:53",
            "updatedBy": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "bba256eea6b039a018f0291b7fb1d94f1944ecf8"
        },
        {
            "class_name": "Test",
            "id": 11,
            "name": "form",
            "accessibility": 2,
            "archived": "0",
            "visibility": 2,
            "type": 1,
            "code": "if(is.null(template_def) || is.na(template_def) || template_def == \"\") {\n  decoded_template_def = fromJSON(concerto.var.get(\"template_def\"))\n} else {\n  decoded_template_def = fromJSON(template_def)\n}\n\nisValid = function(type, value, condition, form, response) {\n  valid = T\n  if(!is.null(response)) {\n    env_vld = new.env()\n    if(length(form) > 0) {\n      for(i in 1:length(form)) {\n        v = response[[form[[i]]$name]]\n        assign(form[[i]]$name, v, envir=env_vld)\n      }\n    }\n\n    res = try(eval(parse(text=condition), envir=env_vld), T)\n    if(!is.null(res) && res == T) {\n      valid = T\n    }\n    if(!is.null(res) && res == F) {\n      valid = F\n    }\n  }\n  return(valid)\n}\n\ngetContent = function(paragraph, form, response) {\n  content = paragraph\n  if(length(form) > 0) {\n    for(i in 1:length(form)) {\n      type = form[[i]]$definition$type\n      value = response[[form[[i]]$name]]\n      if(is.null(value)) {\n        value = form[[i]]$default\n      }\n      if(is.null(value)) {\n        value = \"\"\n      }\n      condition = form[[i]]$validation\n      valid = isValid(type, value, condition, form, response)\n      id = paste0(\"form\",i)\n      name = form[[i]]$name\n      label = form[[i]]$label\n      control = \"\"\n\n      if(type == \"custom\") {\n        control = concerto.template.join(templateId=form[[i]]$definition$custom_template,params=list(id=id,name=name,value=value)) \n      } else if(type == \"singleline\") {\n        control = concerto.template.join(templateId=form_field_input_template,params=list(id=id,name=name,type=\"text\",value=value))\n      } else if(type == \"password\") {\n        control = concerto.template.join(templateId=form_field_input_template,params=list(id=id,name=name,type=\"password\",value=value))\n      } else if(type == \"date\") {\n        control = concerto.template.join(templateId=form_field_input_template,params=list(id=id,name=name,type=\"date\",value=value))\n      } else if(type == \"multiline\") {\n        control = concerto.template.join(templateId=form_field_multiline_template,params=list(id=id,name=name,value=value))\n      } else if(type == \"file\") {\n        control = concerto.template.join(templateId=form_field_file_template,params=list(id=id,name=name))\n      } else if(type == \"select\") {\n        control = concerto.template.join(templateId=form_field_select_template,params=list(id=id,name=name,options=toJSON(form[[i]]$definition$select_options),value=value))\n      } else if(type == \"checkbox\") {\n        checked = \"\"\n        if(value==\"1\") {\n          checked = \"checked\"\n        }\n        control = concerto.template.join(templateId=form_field_checkbox_template,params=list(id=id,name=name,attrs=checked))\n      } else if(type == \"slider\") {\n        if(value == \"\") {\n          value = \"null\";\n        }\n        control = concerto.template.join(templateId=form_field_slider_template,params=list(id=id,name=name,value=value,definition=toJSON(form[[i]]$definition)))\n      }\n        classes = \"\"\n        if(!is.null(response) && !valid) {\n          classes = \"validationHighlight\"\n        }\n        field = concerto.template.join(templateId=form_field_template,params=list(id=id,label=label,classes=classes,control=control))\n        content = paste0(content, field)\n        }\n        }\n        return(content)\n        }\n\n        getAlert = function(form, response) {\n          alert = NULL\n          if(response$buttonPressed != \"submit\") {\n            return(alert)\n          }\n\n          if(length(form) > 0) {\n            for(i in 1:length(form)) {\n              type = form[[i]]$definition$type\n              value = response[[form[[i]]$name]]\n              condition = form[[i]]$validation\n              valid = isValid(type, value, condition, form, response)\n\n              validationHighlight = \"\"\n              if(!is.null(response) && !valid) {\n                alert = paste0(alert,concerto.template.join(templateId=form_alert_template,params=list(alert=form[[i]]$alert)))\n              }\n            }\n          }\n          return(alert)\n        }\n\n        getTemplateParams = function(template_params){\n          params = list()\n          if(!is.null(inserts) && is.list(inserts)) {\n            params = inserts\n          }\n          for(key in ls(template_params)) {\n            params[[key]] = template_params[[key]]\n          }\n          return(params)\n        }\n\n        cb1 = fromJSON(custom_button_1)\n        buttons = concerto.template.join(templateId=buttons_template,params=list(\n          label=button_label,\n          cb1_enabled=cb1$enabled,\n          cb1_label=cb1$label\n        ))\n\n        content = paragraph\n        form = fromJSON(form)\n\n        if(!is.null(warning_msg) && (is.na(warning_msg) || warning_msg == \"\")) {\n          warning_msg = \"\"\n        }\n\n        response = NULL\n        while(T) {\n          content = getContent(paragraph, form, response)\n          response = concerto.template.show(decoded_template_def$layout, params=getTemplateParams(list(\n            header=decoded_template_def$header, \n            title=title,\n            content=content, \n            warning_msg=warning_msg, \n            buttons=buttons,\n            footer=decoded_template_def$footer\n          )))\n          warning_msg = getAlert(form, response)\n          if(is.null(warning_msg) || warning_msg == \"\") { break }\n        }\n\n        if(response$buttonPressed == \"submit\") {\n          .branch = \"submit\"\n        } else if(response$buttonPressed == \"custom_button_1\") {\n          .branch = \"custom_button_1\"\n        }",
            "outdated": "0",
            "description": "",
            "variables": [
                {
                    "class_name": "TestVariable",
                    "id": 163,
                    "name": "form",
                    "type": 0,
                    "description": "<p>Form fields list<\/p>\n",
                    "passableThroughUrl": "0",
                    "value": "[{\"name\":\"age\",\"label\":\"How old are you?\",\"validation\":\"age != \\\"\\\"\",\"alert\":\"Please enter your age\",\"default\":\"\",\"definition\":{\"type\":\"singleline\",\"select_options\":[],\"min\":\"\",\"max\":\"\",\"step\":\"\",\"label_extreme_left\":\"\",\"label_extreme_right\":\"\",\"hide_number\":\"0\",\"prefix_text\":\"\",\"suffix_text\":\"\",\"custom_template\":\"\"}},{\"name\":\"gender\",\"label\":\"What is your gender?\",\"validation\":\"gender != \\\"none\\\"\",\"alert\":\"Please select your gender\",\"default\":\"\",\"definition\":{\"type\":\"select\",\"select_options\":[{\"value\":\"none\",\"label\":\"\"},{\"value\":\"male\",\"label\":\"Male\"},{\"value\":\"female\",\"label\":\"Female\"}],\"min\":\"\",\"max\":\"\",\"step\":\"\",\"label_extreme_left\":\"\",\"label_extreme_right\":\"\",\"hide_number\":\"0\",\"prefix_text\":\"\",\"suffix_text\":\"\",\"custom_template\":\"\"}},{\"name\":\"email_address\",\"label\":\"What is your email address?\",\"validation\":\"grepl(\\\"\\\\\\\\<[A-Z0-9._%+-]+@[A-Z0-9.-]+\\\\\\\\.[A-Z]{2,}\\\\\\\\>\\\", as.character(email_address), ignore.case=TRUE)\",\"alert\":\"Please enter a valid email address\",\"default\":\"\",\"definition\":{\"type\":\"singleline\",\"select_options\":[],\"min\":\"\",\"max\":\"\",\"step\":\"\",\"label_extreme_left\":\"\",\"label_extreme_right\":\"\",\"hide_number\":\"0\",\"prefix_text\":\"\",\"suffix_text\":\"\",\"custom_template\":\"\"}}]",
                    "test": 11,
                    "parentVariable": 143
                },
                {
                    "class_name": "TestVariable",
                    "id": 164,
                    "name": "button_label",
                    "type": 0,
                    "description": "<p>Continue button label<\/p>\n",
                    "passableThroughUrl": "0",
                    "value": "Submit",
                    "test": 11,
                    "parentVariable": 144
                },
                {
                    "class_name": "TestVariable",
                    "id": 165,
                    "name": "paragraph",
                    "type": 0,
                    "description": "<p>Form page paragraph<\/p>\n",
                    "passableThroughUrl": "0",
                    "value": "<p>Please answer the questions below:<\/p>\n",
                    "test": 11,
                    "parentVariable": 145
                },
                {
                    "class_name": "TestVariable",
                    "id": 166,
                    "name": "response",
                    "type": 1,
                    "description": "<p><span style=\"line-height: 20.8px;\">Submitted user response R list object<\/span><\/p>",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 11,
                    "parentVariable": 146
                },
                {
                    "class_name": "TestVariable",
                    "id": 167,
                    "name": "inserts",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 11,
                    "parentVariable": 147
                },
                {
                    "class_name": "TestVariable",
                    "id": 168,
                    "name": "warning_msg",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 11,
                    "parentVariable": 148
                },
                {
                    "class_name": "TestVariable",
                    "id": 169,
                    "name": "title",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "Page Title e.g. Demographics",
                    "test": 11,
                    "parentVariable": 149
                },
                {
                    "class_name": "TestVariable",
                    "id": 170,
                    "name": "template_def",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 11,
                    "parentVariable": 150
                },
                {
                    "class_name": "TestVariable",
                    "id": 171,
                    "name": "form_field_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "form_field",
                    "test": 11,
                    "parentVariable": 151
                },
                {
                    "class_name": "TestVariable",
                    "id": 172,
                    "name": "form_field_input_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "form_field_input",
                    "test": 11,
                    "parentVariable": 152
                },
                {
                    "class_name": "TestVariable",
                    "id": 173,
                    "name": "form_field_multiline_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "form_field_multiline",
                    "test": 11,
                    "parentVariable": 153
                },
                {
                    "class_name": "TestVariable",
                    "id": 174,
                    "name": "form_field_select_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "form_field_select",
                    "test": 11,
                    "parentVariable": 154
                },
                {
                    "class_name": "TestVariable",
                    "id": 175,
                    "name": "form_field_checkbox_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "form_field_checkbox",
                    "test": 11,
                    "parentVariable": 155
                },
                {
                    "class_name": "TestVariable",
                    "id": 176,
                    "name": "form_field_slider_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "form_field_slider",
                    "test": 11,
                    "parentVariable": 156
                },
                {
                    "class_name": "TestVariable",
                    "id": 177,
                    "name": "form_alert_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "form_alert",
                    "test": 11,
                    "parentVariable": 157
                },
                {
                    "class_name": "TestVariable",
                    "id": 178,
                    "name": "buttons_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "buttons_multiple",
                    "test": 11,
                    "parentVariable": 158
                },
                {
                    "class_name": "TestVariable",
                    "id": 179,
                    "name": "submit",
                    "type": 2,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "0",
                    "test": 11,
                    "parentVariable": 142
                },
                {
                    "class_name": "TestVariable",
                    "id": 180,
                    "name": "form_field_file_template",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "form_field_file",
                    "test": 11,
                    "parentVariable": 159
                },
                {
                    "class_name": "TestVariable",
                    "id": 181,
                    "name": "custom_button_1",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "{\"enabled\":\"0\",\"label\":null}",
                    "test": 11,
                    "parentVariable": 160
                },
                {
                    "class_name": "TestVariable",
                    "id": 182,
                    "name": "custom_button_1",
                    "type": 2,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 11,
                    "parentVariable": 161
                },
                {
                    "class_name": "TestVariable",
                    "id": 183,
                    "name": ".branch",
                    "type": 1,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 11,
                    "parentVariable": 162
                }
            ],
            "sourceWizard": 5,
            "sourceWizardName": "form",
            "sourceWizardTest": 10,
            "sourceWizardTestName": "source_form",
            "updatedOn": "2018-07-04 15:39:14",
            "updatedBy": "admin",
            "nodes": [],
            "nodesConnections": [],
            "tags": "_concerto_core",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "9ef73396749d3f42ed370d172a07257add479dd8"
        },
        {
            "class_name": "ViewTemplate",
            "id": 4,
            "name": "form_field",
            "description": "",
            "accessibility": 2,
            "archived": "0",
            "head": "",
            "css": ".form-field {\n  padding-bottom: 10px;\n}",
            "js": "",
            "html": "<div class=\"form-field {{classes}}\"><label for=\"{{id}}\">{{label}}<\/label><br \/>\n{{control}}<\/div>\n",
            "updatedOn": "2018-07-04 15:38:52",
            "updatedBy": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "53f4f079e9235798bede0fb4fce8236053357f91"
        },
        {
            "class_name": "ViewTemplate",
            "id": 7,
            "name": "form_alert",
            "description": "",
            "accessibility": 2,
            "archived": "0",
            "head": "",
            "css": "",
            "js": "",
            "html": "<div>{{alert}}<\/div>",
            "updatedOn": "2018-07-04 15:38:52",
            "updatedBy": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "65136639c5d390963f0fb08f46f04678b5cf01b7"
        },
        {
            "class_name": "ViewTemplate",
            "id": 11,
            "name": "form_field_checkbox",
            "description": "",
            "accessibility": 2,
            "archived": "0",
            "head": "",
            "css": "",
            "js": "",
            "html": "<input id=\"{{id}}\" name=\"{{name}}\" type=\"checkbox\" \/>",
            "updatedOn": "2018-07-04 15:39:03",
            "updatedBy": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "4b77656862f656c5248db9e0f7913a25afec1359"
        },
        {
            "class_name": "ViewTemplate",
            "id": 12,
            "name": "form_field_file",
            "description": "",
            "accessibility": 2,
            "archived": "0",
            "head": "",
            "css": "",
            "js": "",
            "html": "<input id=\"{{id}}\" name=\"{{name}}\" type=\"file\" \/>",
            "updatedOn": "2018-07-04 15:39:03",
            "updatedBy": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "c13833ab607a2a060327b190b9de84a41fa47f47"
        },
        {
            "class_name": "ViewTemplate",
            "id": 5,
            "name": "form_field_input",
            "description": "",
            "accessibility": 2,
            "archived": "0",
            "head": "",
            "css": "",
            "js": "",
            "html": "<input id=\"{{id}}\" name=\"{{name}}\" type=\"{{type}}\" value=\"{{value}}\" \/>",
            "updatedOn": "2018-07-04 15:38:52",
            "updatedBy": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "c522916420e194b17eff1caae92101586dcaf002"
        },
        {
            "class_name": "ViewTemplate",
            "id": 13,
            "name": "form_field_multiline",
            "description": "",
            "accessibility": 2,
            "archived": "0",
            "head": "",
            "css": "",
            "js": "",
            "html": "<textarea id=\"{{id}}\" name=\"{{name}}\">{{value}}<\/textarea>",
            "updatedOn": "2018-07-04 15:39:03",
            "updatedBy": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "9953ea31efbe30a31907bc61e8c5d94c3f3a0425"
        },
        {
            "class_name": "ViewTemplate",
            "id": 14,
            "name": "form_field_select",
            "description": "",
            "accessibility": 2,
            "archived": "0",
            "head": "",
            "css": "",
            "js": "testRunner.controllerProvider.register(\"_select{{id}}\", function($scope) {\n  $scope.options = {{options}};\n  $scope.value = \"{{value}}\";\n});",
            "html": "<select id=\"{{id}}\" name=\"{{name}}\" ng-controller=\"_select{{id}}\"><option ng-repeat=\"option in options\" ng-selected=\"[[option.value == value]]\" value=\"[[option.value]]\">[[option.label]]<\/option> <\/select>",
            "updatedOn": "2018-07-04 15:39:03",
            "updatedBy": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "5c866c6dbdd9eb976d6a7cfe2a9d194a5d6e07bd"
        },
        {
            "class_name": "ViewTemplate",
            "id": 15,
            "name": "form_field_slider",
            "description": "",
            "accessibility": 2,
            "archived": "0",
            "head": "",
            "css": "",
            "js": "testRunner.controllerProvider.register(\"slider{{id}}\", function($scope) {\n  $scope.definition = {{definition}};\n  $scope.value = {{value}};\n});",
            "html": "<table class=\"tableFormSlider\" ng-controller=\"slider{{id}}\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td class=\"tdFormSliderExtremeLabel tdFormSliderExtremeLabelLeft\">[[definition.label_extreme_left]]<\/td>\n\t\t\t<td class=\"tdFormSlider\"><input id=\"{{id}}\" max=\"[[definition.max]]\" min=\"[[definition.min]]\" name=\"{{name}}\" ng-model=\"value\" step=\"[[definition.step]]\" type=\"range\" \/><\/td>\n\t\t\t<td class=\"tdFormSliderExtremeLabel tdFormSliderExtremeLabelRight\">[[definition.label_extreme_right]]<\/td>\n\t\t<\/tr>\n\t\t<tr ng-show=\"[[definition.hide_number]] == 0\">\n\t\t\t<td>&nbsp;<\/td>\n\t\t\t<td class=\"tdFormSliderNumber\">[[definition.prefix_text]][[value]][[definition.suffix_text]]<\/td>\n\t\t\t<td>&nbsp;<\/td>\n\t\t<\/tr>\n\t<\/tbody>\n<\/table>\n",
            "updatedOn": "2018-07-04 15:39:03",
            "updatedBy": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "32083a83671184566719ba628f920b41064a72e5"
        },
        {
            "class_name": "ViewTemplate",
            "id": 16,
            "name": "buttons_multiple",
            "description": "",
            "accessibility": 2,
            "archived": "0",
            "head": "",
            "css": ".button-group {\n  width: 100%;\n  display: table;\n  table-layout: fixed;\n}\n.button-group ul {\n  display: table-row;\n}\n.button-group button {\n  background-color: #b9d979;\n  border: 0 none;\n  color: #000000;\n  font-family: \"Roboto\";\n  font-size: 1.1em;\n  font-style: normal;\n  font-weight: 500;\n  padding: 7px;\n  cursor: pointer;\n  width: 150px;\n}\n.button-group li {\n  display: table-cell;\n  text-align: center;\n  padding: 5px;\n}",
            "js": "testRunner.controllerProvider.register(\"_buttonsMultiple\", function($scope) {\n  $scope.cb1_enabled = {{cb1_enabled}};\n});",
            "html": "<div class=\"button-group\" ng-controller=\"_buttonsMultiple\">\n<ul>\n\t<li ng-show=\"cb1_enabled == 1\"><button name=\"custom_button_1\">{{cb1_label}}<\/button><\/li>\n\t<li><button name=\"submit\">{{label}}<\/button><\/li>\n<\/ul>\n<\/div>\n",
            "updatedOn": "2018-07-04 15:39:03",
            "updatedBy": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "bb06732c6e724b9d205f1ebc431f9f81ae33384a"
        }
    ]
}